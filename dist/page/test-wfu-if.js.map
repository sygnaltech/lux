{
  "version": 3,
  "sources": ["../../node_modules/@sygnal/sse/src/debug.ts", "../../node_modules/js-cookie/dist/js.cookie.mjs", "../../src/sa5/logic.ts", "../../src/page/test-wfu-if.ts"],
  "sourcesContent": [null, "/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n", "/*\n * SA5 Sygnal\n * Logic\n * \n */\n\nimport { Debug } from \"@sygnal/sse\";\n\n\n\n\n\nexport class SA5Logic {\n\n    constructor() {\n    }\n\n    init() {\n\n        var elements: NodeListOf<HTMLElement>;\n        \n        elements= document.querySelectorAll<HTMLElement>('[wfu-logic-if]');\n        elements.forEach(element => {\n            (new SA5LogicIf(element)).init(); \n        });\n\n        elements = document.querySelectorAll<HTMLElement>('[wfu-logic-switch]');\n        elements.forEach(element => {\n            (new SA5LogicSwitch(element)).init(); \n        });\n\n    }\n    \n}\n\nexport class SA5LogicIf {\n\n    _elem: HTMLElement;\n    _data: any = {}; \n    debug: Debug;\n\n    constructor(elem: HTMLElement) {\n        this._elem = elem; \n        this.debug = new Debug(\"SA5 Logic\"); \n    }\n\n    init() {\n\n        console.log(\"SA5 logic IF \")\n        // Construct data from custom attributes\n        const dataAttributes = this._elem.attributes;\n        for (let i = 0; i < dataAttributes.length; i++) {\n            const attr = dataAttributes[i];\n            const attrName = attr.name.toLowerCase();\n            if (attrName.startsWith('wfu-logic-param-')) {\n                const key = attrName.slice('wfu-logic-param-'.length);\n                this._data[key] = attr.value !== '' ? attr.value : null;\n            }\n        }\n\nconsole.log()      \n\n        const descendants: NodeListOf<HTMLElement> = this._elem.querySelectorAll<HTMLElement>('[wfu-logic-if-display]');\n\n        descendants.forEach(descendant => {\n          const condition: string = descendant.getAttribute('wfu-logic-if-display') as string;\n          const shouldDisplay = this.evaluateCondition(condition, this._data);\n\n          if (shouldDisplay) {\n            descendant.style.display = '';\n          } else {\n            descendant.style.display = 'none';\n          }\n        });\n\n        // Processing complete, make the element visible\n        this._elem.removeAttribute(\"wfu-preload\");\n\n    }\n    \n    evaluateCondition(condition: string, context: any): boolean {\n        try {\n          return new Function('with(this) { return ' + condition + '; }').call(context);\n        } catch (e) {\n          console.error('Error evaluating condition:', condition, e);\n          return false;\n        }\n    }\n\n}\n\n\n\nexport class SA5LogicSwitch {\n\n    _elem: HTMLElement;\n    debug: Debug; \n    _val: string;\n\n    constructor(elem: HTMLElement) {\n        this._elem = elem; \n        this.debug = new Debug(\"SA5 Logic\"); \n        this._val = elem.getAttribute('wfu-logic-switch') as string; \n    }\n\n    init() {\n\n        console.log(\"SA5 logic SWITCH \")\n        // Construct data from custom attributes\n\n\nconsole.log()      \n\n        const descendants: NodeListOf<HTMLElement> = this._elem.querySelectorAll<HTMLElement>('[wfu-logic-switch-case]');\n\n        descendants.forEach(descendant => {\n          const condition: string = descendant.getAttribute('wfu-logic-switch-case') as string;\n          const shouldDisplay = this.evaluateCondition(condition, this._val);\n\n          if (shouldDisplay) {\n            descendant.style.display = '';\n          } else {\n            descendant.style.display = 'none';\n          }\n        });\n\n        // Processing complete, make the element visible\n        this._elem.removeAttribute(\"wfu-preload\");\n\n    }\n    \n    evaluateCondition(condition: string, context: any): boolean {\n        try {\n          return condition == context; // new Function('with(this) { return ' + condition + '; }').call(context);\n        } catch (e) {\n          console.error('Error evaluating condition:', condition, e);\n          return false;\n        }\n    }\n\n}", "\n/*\n * Page | TEST | wfu-if\n */\n\nimport { IRouteHandler } from \"@sygnal/sse\";\nimport { SA5Logic } from \"../sa5/logic\";\n\n// import gsap from 'gsap'; \n \n\nexport class TestWfuIfPage implements IRouteHandler {\n\n//  modelDropdown: WebflowDropdown; \n\n  constructor() {\n  }\n\n  setup() {\n        \n  }\n\n  exec() {\n\n    console.log(\"Test Wfu If.\"); \n\n    (new SA5Logic()).init(); \n\n    // const elements: NodeListOf<Element> = document.querySelectorAll(`.${item.className}`);\n    // console.log(\"Making elements visible\", elements);\n    // gsap.to(elements, { display: 'block' });\n\n  }\n\n}\n"],
  "mappings": "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",
  "names": ["converter"]
}
